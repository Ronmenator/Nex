<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Attributes - Nex Docs</title>
  <link rel="stylesheet" href="styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
</head>
<body>
<header class="site-header">
  <button class="menu-toggle">&#9776;</button>
  <div class="logo">Nex <span>Documentation</span></div>
  <div class="header-right"><span class="version-badge">v0.1.154</span></div>
</header>
<nav class="sidebar"></nav>
<main class="main-content">

  <div class="breadcrumbs"><a href="index.html">Docs</a><span class="sep">/</span>Advanced Topics<span class="sep">/</span>Attributes</div>

  <h1>Attributes</h1>
  <p class="page-subtitle">Attach compile-time metadata to declarations with square-bracket <code>[Name]</code> syntax.</p>

  <h2>Syntax</h2>

  <p>Attributes are placed immediately before a declaration using square brackets:</p>

  <pre><code>[<span class="fn">AttributeName</span>]
<span class="kw">public</span> <span class="kw">class</span> <span class="typ">MyClass</span> {
    <span class="cmt">// ...</span>
}</code></pre>

  <p>Attributes can take optional arguments in parentheses:</p>

  <pre><code>[<span class="fn">AttributeName</span>(<span class="str">"arg1"</span>, <span class="str">"arg2"</span>)]
<span class="kw">public</span> <span class="kw">def</span> <span class="fn">some_function</span>() <span class="op">-></span> <span class="typ">Unit</span> {
    <span class="cmt">// ...</span>
}</code></pre>

  <p>Attributes can be applied to classes, structs, enums, and interfaces:</p>

  <pre><code>[<span class="fn">Reflectable</span>]
<span class="kw">class</span> <span class="typ">Animal</span> {
    name: <span class="typ">String</span>
    age: <span class="typ">Int</span>
}

[<span class="fn">Reflectable</span>]
<span class="kw">struct</span> <span class="typ">Point</span> {
    x: <span class="typ">Float</span>
    y: <span class="typ">Float</span>
}

[<span class="fn">Reflectable</span>]
<span class="kw">enum</span> <span class="typ">Color</span> {
    Red, Green, Blue
}</code></pre>

  <h2>Built-in Attributes</h2>

  <table>
    <tr><th>Attribute</th><th>Target</th><th>Effect</th></tr>
    <tr><td><code>[Reflectable]</code></td><td>Classes, structs, enums, interfaces</td><td>Enables runtime reflection &mdash; exposes fields, methods, and variants via the <code>Reflect</code> API</td></tr>
  </table>

  <h3><code>[Reflectable]</code></h3>

  <p>Marks a type for full runtime reflection. All types are registered in the type registry at startup, but only types with <code>[Reflectable]</code> expose their fields and methods through the <code>Reflect</code> API.</p>

  <pre><code><span class="cmt">// Without [Reflectable]: type is registered but fields/methods hidden</span>
<span class="kw">class</span> <span class="typ">Internal</span> {
    secret: <span class="typ">String</span>
}

<span class="cmt">// With [Reflectable]: full introspection available</span>
[<span class="fn">Reflectable</span>]
<span class="kw">class</span> <span class="typ">Animal</span> {
    name: <span class="typ">String</span>
    age: <span class="typ">Int</span>

    <span class="kw">def</span> <span class="fn">speak</span>() <span class="op">-></span> <span class="typ">String</span> {
        <span class="kw">return</span> <span class="str">"Hello"</span>
    }
}

<span class="kw">var</span> ti <span class="op">=</span> <span class="fn">Reflect</span>.<span class="fn">findType</span>(<span class="str">"Animal"</span>)
<span class="fn">println</span>(<span class="fn">Reflect</span>.<span class="fn">fieldCount</span>(ti))   <span class="cmt">// 2</span>
<span class="fn">println</span>(<span class="fn">Reflect</span>.<span class="fn">fieldName</span>(ti, <span class="num">0</span>))  <span class="cmt">// name</span></code></pre>

  <p>See the <a href="reflection.html">Reflection</a> page for the full <code>Reflect</code> API reference.</p>

  <h2>Grammar</h2>

  <pre><code>Attributes  = { "[" Ident [ "(" AttrArgList ")" ] "]" } ;
AttrArgList = ( StringLiteral | Ident ) { "," ( StringLiteral | Ident ) } ;</code></pre>

  <h2>Multiple Attributes</h2>

  <p>A declaration can have multiple attributes, each in its own bracket pair:</p>

  <pre><code>[<span class="fn">Reflectable</span>]
[<span class="fn">Serializable</span>]
<span class="kw">class</span> <span class="typ">Config</span> {
    name: <span class="typ">String</span>
    value: <span class="typ">Int</span>
}</code></pre>

  <h2>Complete Example</h2>

  <pre><code>[<span class="fn">Reflectable</span>]
<span class="kw">class</span> <span class="typ">Animal</span> {
    name: <span class="typ">String</span>
    age: <span class="typ">Int</span>

    <span class="kw">def</span> <span class="fn">speak</span>() <span class="op">-></span> <span class="typ">String</span> {
        <span class="kw">return</span> <span class="str">"Hello"</span>
    }
}

<span class="kw">interface</span> <span class="typ">Skill</span> {
    <span class="kw">def</span> <span class="fn">execute</span>() <span class="op">-></span> <span class="typ">Unit</span>
}

[<span class="fn">Reflectable</span>]
<span class="kw">struct</span> <span class="typ">CalendarSkill</span> : <span class="typ">Skill</span> {
    <span class="kw">def</span> <span class="fn">execute</span>() <span class="op">-></span> <span class="typ">Unit</span> {
        <span class="fn">println</span>(<span class="str">"Running calendar"</span>)
    }
}

[<span class="fn">Reflectable</span>]
<span class="kw">enum</span> <span class="typ">Color</span> {
    Red, Green, Blue
}

<span class="kw">def</span> <span class="fn">main</span>() <span class="op">-></span> <span class="typ">Unit</span> {
    <span class="kw">var</span> ti <span class="op">=</span> <span class="fn">Reflect</span>.<span class="fn">findType</span>(<span class="str">"Animal"</span>)
    <span class="fn">println</span>(<span class="fn">Reflect</span>.<span class="fn">typeName</span>(ti))       <span class="cmt">// Animal</span>
    <span class="fn">println</span>(<span class="fn">Reflect</span>.<span class="fn">fieldCount</span>(ti))     <span class="cmt">// 2</span>
    <span class="fn">println</span>(<span class="fn">Reflect</span>.<span class="fn">methodCount</span>(ti))    <span class="cmt">// 1</span>

    <span class="kw">var</span> si <span class="op">=</span> <span class="fn">Reflect</span>.<span class="fn">findType</span>(<span class="str">"CalendarSkill"</span>)
    <span class="fn">println</span>(<span class="fn">Reflect</span>.<span class="fn">implements</span>(si, <span class="str">"Skill"</span>))  <span class="cmt">// 1</span>
    <span class="kw">return</span>
}</code></pre>

  <div class="page-nav">
    <a href="async-await.html">
      <span class="nav-label">Previous</span>
      <span class="nav-title">&larr; Async / Await</span>
    </a>
    <a href="reflection.html">
      <span class="nav-label">Next</span>
      <span class="nav-title">Reflection &rarr;</span>
    </a>
  </div>

</main>
<script src="nav.js"></script>
<script src="script.js"></script>
</body>
</html>
