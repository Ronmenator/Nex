// nex_ui.style — Widget styling functions, color constants, and presets.

// ===========================================================================
// RGBA color packing
// ===========================================================================

// Packs 0–255 RGBA channels into a single Int64.
public def pack_rgba(r: Int64, g: Int64, b: Int64, a: Int64) -> Int64 {
    return r * 16777216 + g * 65536 + b * 256 + a
}

// ===========================================================================
// Named color constants (fully opaque RGBA packed into Int64)
// ===========================================================================

public def COLOR_WHITE() -> Int64       { return pack_rgba(255, 255, 255, 255) }
public def COLOR_BLACK() -> Int64       { return pack_rgba(0, 0, 0, 255) }
public def COLOR_RED() -> Int64         { return pack_rgba(255, 0, 0, 255) }
public def COLOR_GREEN() -> Int64       { return pack_rgba(0, 255, 0, 255) }
public def COLOR_BLUE() -> Int64        { return pack_rgba(0, 0, 255, 255) }
public def COLOR_GRAY() -> Int64        { return pack_rgba(128, 128, 128, 255) }
public def COLOR_DARK_GRAY() -> Int64   { return pack_rgba(64, 64, 64, 255) }
public def COLOR_TRANSPARENT() -> Int64 { return pack_rgba(0, 0, 0, 0) }

// ===========================================================================
// Alignment constants (for set_align_items / set_align_self)
// ===========================================================================

public def ALIGN_START() -> Int64   { return 0 }
public def ALIGN_CENTER() -> Int64  { return 1 }
public def ALIGN_END() -> Int64     { return 2 }
public def ALIGN_STRETCH() -> Int64 { return 3 }

// ===========================================================================
// Justify constants (for set_justify_content)
// ===========================================================================

public def JUSTIFY_START() -> Int64         { return 0 }
public def JUSTIFY_CENTER() -> Int64        { return 1 }
public def JUSTIFY_END() -> Int64           { return 2 }
public def JUSTIFY_SPACE_BETWEEN() -> Int64 { return 3 }
public def JUSTIFY_SPACE_AROUND() -> Int64  { return 4 }

// ===========================================================================
// Dimensions (existing API — preserved)
// ===========================================================================

public def set_width(widget: Int64, width: Float) {
    ui_set_width(widget, width)
    return
}

public def set_height(widget: Int64, height: Float) {
    ui_set_height(widget, height)
    return
}

public def set_min_width(widget: Int64, value: Float) {
    ui_set_min_width(widget, value)
    return
}

public def set_min_height(widget: Int64, value: Float) {
    ui_set_min_height(widget, value)
    return
}

// ===========================================================================
// Spacing
// ===========================================================================

public def set_padding(widget: Int64, packed: Int64) {
    ui_set_padding(widget, packed)
    return
}

public def set_padding_all(widget: Int64, value: Float) {
    ui_set_padding_all(widget, value)
    return
}

public def set_margin(widget: Int64, packed: Int64) {
    ui_set_margin(widget, packed)
    return
}

public def set_gap(widget: Int64, gap: Float) {
    ui_set_gap(widget, gap)
    return
}

// ===========================================================================
// Colors
// ===========================================================================

public def set_bg_color(widget: Int64, rgba: Int64) {
    ui_set_bg_color(widget, rgba)
    return
}

public def set_fg_color(widget: Int64, rgba: Int64) {
    ui_set_fg_color(widget, rgba)
    return
}

// ===========================================================================
// Typography
// ===========================================================================

public def set_font_size(widget: Int64, size: Float) {
    ui_set_font_size(widget, size)
    return
}

// ===========================================================================
// Borders
// ===========================================================================

public def set_border(widget: Int64, width: Float, rgba: Int64) {
    ui_set_border(widget, width, rgba)
    return
}

public def set_border_radius(widget: Int64, radius: Float) {
    ui_set_border_radius(widget, radius)
    return
}

// ===========================================================================
// Flex layout
// ===========================================================================

public def set_flex_grow(widget: Int64, grow: Float) {
    ui_set_flex_grow(widget, grow)
    return
}

public def set_align_items(widget: Int64, align: Int64) {
    ui_set_align_items(widget, align)
    return
}

public def set_justify_content(widget: Int64, justify: Int64) {
    ui_set_justify_content(widget, justify)
    return
}

public def set_align_self(widget: Int64, align: Int64) {
    ui_set_align_self(widget, align)
    return
}

// ===========================================================================
// Style presets — apply multiple styles at once.
// ===========================================================================

// Card style: padded, bordered, rounded, white background.
public def apply_card_style(widget: Int64) {
    border_color = pack_rgba(200, 200, 200, 255)
    bg_color = pack_rgba(255, 255, 255, 255)
    ui_set_padding_all(widget, 16.0f)
    ui_set_border(widget, 1.0f, border_color)
    ui_set_border_radius(widget, 8.0f)
    ui_set_bg_color(widget, bg_color)
    return
}

// Header style: large font, dark background, white text, padded.
public def apply_header_style(widget: Int64) {
    bg_color = pack_rgba(50, 50, 50, 255)
    fg_color = pack_rgba(255, 255, 255, 255)
    ui_set_font_size(widget, 24.0f)
    ui_set_bg_color(widget, bg_color)
    ui_set_fg_color(widget, fg_color)
    ui_set_padding_all(widget, 12.0f)
    return
}
