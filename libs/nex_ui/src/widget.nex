// nex_ui.widget — Widget creation, tree management, and convenience builders.

// ===========================================================================
// Widget creation (existing API — preserved)
// ===========================================================================

public def text(label: String) -> Int64 {
    return ui_text(label)
}

public def button(label: String) -> Int64 {
    return ui_button(label)
}

public def text_input(placeholder: String) -> Int64 {
    return ui_text_input(placeholder)
}

public def image(path: String) -> Int64 {
    return ui_image(path)
}

public def checkbox(label: String) -> Int64 {
    return ui_checkbox(label)
}

public def slider(min: Float, max: Float) -> Int64 {
    return ui_slider(min, max)
}

// ===========================================================================
// Container widgets
// ===========================================================================

public def row() -> Int64 {
    return ui_row()
}

public def column() -> Int64 {
    return ui_column()
}

public def stack() -> Int64 {
    return ui_stack()
}

public def scroll() -> Int64 {
    return ui_scroll()
}

public def grid(cols: Int64) -> Int64 {
    return ui_grid(cols)
}

public def canvas(width: Int64, height: Int64) -> Int64 {
    return ui_canvas(width, height)
}

// ===========================================================================
// Widget tree
// ===========================================================================

public def add_child(parent: Int64, child: Int64) {
    ui_add_child(parent, child)
    return
}

public def remove_child(parent: Int64, child: Int64) {
    ui_remove_child(parent, child)
    return
}

// ===========================================================================
// Widget properties
// ===========================================================================

public def set_text(widget: Int64, label: String) {
    ui_set_text(widget, label)
    return
}

public def get_text(widget: Int64) -> String {
    return ui_get_text(widget)
}

public def set_visible(widget: Int64, visible: Int64) {
    ui_set_visible(widget, visible)
    return
}

public def set_enabled(widget: Int64, enabled: Int64) {
    ui_set_enabled(widget, enabled)
    return
}

public def set_id(widget: Int64, id: String) {
    ui_set_id(widget, id)
    return
}

public def get_id(widget: Int64) -> String {
    return ui_get_id(widget)
}

public def get_value_float(widget: Int64) -> Float {
    return ui_get_value_float(widget)
}

public def set_value_float(widget: Int64, value: Float) {
    ui_set_value_float(widget, value)
    return
}

// ===========================================================================
// Convenience builders — create widgets with common styling applied.
// ===========================================================================

// Creates a text widget with a specific font size.
public def styled_text(content: String, font_size: Float) -> Int64 {
    w = ui_text(content)
    ui_set_font_size(w, font_size)
    return w
}

// Creates a button with explicit width and height.
public def sized_button(label: String, width: Float, height: Float) -> Int64 {
    w = ui_button(label)
    ui_set_width(w, width)
    ui_set_height(w, height)
    return w
}

// Creates a row container with a gap between children.
public def spaced_row(gap: Float) -> Int64 {
    w = ui_row()
    ui_set_gap(w, gap)
    return w
}

// Creates a column container with a gap between children.
public def spaced_column(gap: Float) -> Int64 {
    w = ui_column()
    ui_set_gap(w, gap)
    return w
}

// Creates a row with two children already added.
public def row_of_2(left: Int64, right: Int64) -> Int64 {
    w = ui_row()
    ui_add_child(w, left)
    ui_add_child(w, right)
    return w
}

// Creates a column with two children already added.
public def column_of_2(top: Int64, bottom: Int64) -> Int64 {
    w = ui_column()
    ui_add_child(w, top)
    ui_add_child(w, bottom)
    return w
}
